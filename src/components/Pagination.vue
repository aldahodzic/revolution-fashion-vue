<template>
  <div class="pagination">
    <ul class="pagination-menu">
      <li class="pagination-btn" @click="onClickPage(cur - 1)">
        <svg
          width="20"
          height="20"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M28.328 45.6C28.703 45.9749 29.2117 46.1856 29.742 46.1856C30.2723 46.1856 30.7809 45.9749 31.156 45.6L33.681 43.076C33.8668 42.8903 34.0142 42.6698 34.1147 42.4271C34.2153 42.1843 34.2671 41.9242 34.2671 41.6615C34.2671 41.3988 34.2153 41.1386 34.1147 40.8959C34.0142 40.6532 33.8668 40.4327 33.681 40.247L17.43 24L33.681 7.749C33.8668 7.56327 34.0142 7.34275 34.1147 7.10005C34.2153 6.85735 34.2671 6.59721 34.2671 6.3345C34.2671 6.07178 34.2153 5.81165 34.1147 5.56894C34.0142 5.32624 33.8668 5.10572 33.681 4.92L31.156 2.4C30.7809 2.02505 30.2723 1.81442 29.742 1.81442C29.2117 1.81442 28.703 2.02505 28.328 2.4L8.14899 22.575C7.77405 22.9501 7.56342 23.4587 7.56342 23.989C7.56342 24.5193 7.77405 25.0279 8.14899 25.403L28.328 45.6Z"
            fill="#333333"
          />
        </svg>
      </li>
      <li
        class="pagination-nums"
        v-for="page in amount"
        :key="page"
        @click="onClickPage(page)"
        :class="{ active: page === cur }"
      >
        {{ page }}
      </li>
      <li class="pagination-btn" @click="onClickPage(cur + 1)">
        <svg
          width="20"
          height="20"
          viewBox="0 0 48 48"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M16.66 45.177C16.4743 45.3628 16.2538 45.5102 16.0111 45.6108C15.7684 45.7113 15.5082 45.7631 15.2455 45.7631C14.9828 45.7631 14.7227 45.7113 14.48 45.6108C14.2373 45.5102 14.0167 45.3628 13.831 45.177L11.307 42.653C11.1212 42.4673 10.9738 42.2468 10.8733 42.0041C10.7727 41.7614 10.7209 41.5012 10.7209 41.2385C10.7209 40.9758 10.7727 40.7157 10.8733 40.473C10.9738 40.2303 11.1212 40.0097 11.307 39.824L27.558 23.573L11.307 7.32201C11.1212 7.13628 10.9738 6.91577 10.8733 6.67306C10.7727 6.43036 10.7209 6.17022 10.7209 5.90751C10.7209 5.6448 10.7727 5.38466 10.8733 5.14195C10.9738 4.89925 11.1212 4.67874 11.307 4.49301L13.831 1.96901C14.0167 1.7832 14.2373 1.63581 14.48 1.53525C14.7227 1.43469 14.9828 1.38293 15.2455 1.38293C15.5082 1.38293 15.7684 1.43469 16.0111 1.53525C16.2538 1.63581 16.4743 1.7832 16.66 1.96901L36.839 22.148C37.214 22.5231 37.4246 23.0317 37.4246 23.562C37.4246 24.0923 37.214 24.601 36.839 24.976L16.66 45.177Z"
            fill="#333333"
          />
        </svg>
      </li>
    </ul>
  </div>
</template>

<script>
export default {
  name: "Pagination",
  props: {
    n: Number,
    cur: Number,
    length: Number,
  },
  computed: {
    amount() {
      return Math.ceil(this.length / this.n);
    },
  },
  methods: {
    onClickPage(p) {
      if (p < 1 || p > this.amount) {
        return;
      }
      this.$emit("paginate", p);
    },
  },
};
</script>

<style lang="scss" scoped>
.pagination {
  display: flex;
  justify-content: center;
  &-menu {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    border-radius: 10px;
    border: 1px solid #f1f1f1;
  }
  &-btn {
    display: flex;
    align-items: center;
    padding: 5px 10px;
    cursor: pointer;
  }
  &-nums {
    padding: 8px 13px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 8px;
    transition: all .2s ease;
    &:hover {
        color: #f16d7f;
    }
  }
}
.active {
  color: #ffffff !important;
  background: #f16d7f;
}
</style>